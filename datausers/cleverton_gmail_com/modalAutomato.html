<!DOCTYPE html>
                    <html lang="pt-BR">
                        <head>
                            <meta charset="UTF-8">
                            <meta name="viewport" content="width=device-width, initial-scale=1.0">
                            <title>Desenhar e Conectar Círculos</title>
                            <style>
                                #canvas { border: 1px solid #000; cursor: pointer; }
                            </style>
                        </head>
                        <body style="text-align:center">
                            <canvas id="canvas" width="3050" height="700"></canvas>
                            <script>
                             var canvas = document.getElementById("canvas");
                                var ctx = canvas.getContext("2d");
                                var circles = [];
                                var numRows = 5; // Número de linhas
                                var numColumns = 15; // Número de colunas
                                var circleRadius = 20; // Raio do círculo
                                var circleSpacingX = 120; // Espaçamento horizontal entre os círculos
                                var circleSpacingY = canvas.height / (numRows + 1); // Espaçamento vertical entre os círculos
                                 function isMouseOverCircle(mouseX, mouseY, circle) {
                                    var dx = mouseX - circle.x;
                                    var dy = mouseY - circle.y;
                                    return dx * dx + dy * dy < circle.radius * circle.radius;
                                }
                                 canvas.addEventListener("mousedown", function(event) {
                                    var mouseX = event.clientX - canvas.getBoundingClientRect().left;
                                    var mouseY = event.clientY - canvas.getBoundingClientRect().top;

                                    circles.forEach(function(circle) {
                                        if (isMouseOverCircle(mouseX, mouseY, circle)) {
                                            circle.isDragging = true;
                                        }
                                    });
                                });
                         
                                // Evento de movimento do mouse
                                canvas.addEventListener("mousemove", function(event) {
                                    circles.forEach(function(circle) {
                                        if (circle.isDragging) {
                                            circle.x = event.clientX - canvas.getBoundingClientRect().left;
                                            circle.y = event.clientY - canvas.getBoundingClientRect().top;
                                            redraw();
                                        }
                                    });
                                });

                                // Evento de soltar o botão do mouse
                                canvas.addEventListener("mouseup", function() {
                                    circles.forEach(function(circle) {
                                        circle.isDragging = false;
                                    });
                                });
                                 function drawCircle(circle) {
                                    ctx.beginPath();
                                    ctx.arc(circle.x, circle.y, circle.radius, 0, 2 * Math.PI);
                                    ctx.fillStyle = "rgba(0, 149, 221, 0.5)";
                                    ctx.fill();
                                    ctx.strokeStyle = "#0095DD";
                                    ctx.lineWidth = 2;
                                    ctx.stroke();
                                    ctx.closePath();

                                    ctx.fillStyle = "#000";
                                    ctx.font = "12px Arial";
                                    ctx.textAlign = "center";
                                    ctx.textBaseline = "middle";
                                    ctx.fillText(circle.label, circle.x, circle.y);

                                    // Desenha a flecha apontando para o estado inicial q0
                                        if (circle.label === "q0") {
                                            ctx.beginPath();
                                            ctx.moveTo(circle.x - circle.radius, circle.y);
                                            ctx.lineTo(circle.x - circle.radius - 20, circle.y - 10);
                                            ctx.lineTo(circle.x - circle.radius - 20, circle.y + 10);
                                            ctx.closePath();
                                            ctx.fillStyle = "rgba(200, 200, 200, 0.5)"; // Cinza claro para o preenchimento
                                            ctx.fill();
                                            ctx.strokeStyle = "#0095DD"; // Azul para a borda
                                            ctx.lineWidth = 2;
                                            ctx.stroke();
                                        }
                                                       
                                        // Desenha a borda dupla para o círculo do estado final
                                        if (circle.label === "q2") {
                                            ctx.beginPath();
                                            ctx.arc(circle.x, circle.y, circle.radius - 4, 0, 2 * Math.PI); // Aumenta o raio para a borda dupla
                                            ctx.strokeStyle = "#0095DD"; // Azul para a cor da primeira borda
                                            ctx.lineWidth = 2;
                                            ctx.stroke();
                                            ctx.closePath();
                                        }

                                }
                                 function redraw() {
                                    ctx.clearRect(0, 0, canvas.width, canvas.height);
                                    circles.forEach(function(circle) {
                                        drawCircle(circle);
                                    });
                                }
                                 circles.push({ x: circleSpacingX, y: canvas.height / 2, radius: circleRadius, label: "q0" });
                             var x = circleSpacingX * (0 + 2); // Começa da segunda coluna
                                    var y = circleSpacingY * (0 + 1);
                                    circles.push({ x: x, y: y, radius: circleRadius, label: "q" + 1 });
                         var x = circleSpacingX * (0 + 2); // Começa da segunda coluna
                                    var y = circleSpacingY * (1 + 1);
                                    circles.push({ x: x, y: y, radius: circleRadius, label: "q" + 2 });
                         var x = circleSpacingX * (0 + 2); // Começa da segunda coluna
                                    var y = circleSpacingY * (2 + 1);
                                    circles.push({ x: x, y: y, radius: circleRadius, label: "q" + 3 });
                         var x = circleSpacingX * (0 + 2); // Começa da segunda coluna
                                    var y = circleSpacingY * (3 + 1);
                                    circles.push({ x: x, y: y, radius: circleRadius, label: "q" + 4 });
                         var x = circleSpacingX * (0 + 2); // Começa da segunda coluna
                                    var y = circleSpacingY * (4 + 1);
                                    circles.push({ x: x, y: y, radius: circleRadius, label: "q" + 5 });
                         var x = circleSpacingX * (1 + 2); // Começa da segunda coluna
                                    var y = circleSpacingY * (0.5 + 1);
                                    circles.push({ x: x, y: y, radius: circleRadius, label: "q" + 6 });
                         var x = circleSpacingX * (1 + 2); // Começa da segunda coluna
                                    var y = circleSpacingY * (1.5 + 1);
                                    circles.push({ x: x, y: y, radius: circleRadius, label: "q" + 7 });
                         var x = circleSpacingX * (1 + 2); // Começa da segunda coluna
                                    var y = circleSpacingY * (2.5 + 1);
                                    circles.push({ x: x, y: y, radius: circleRadius, label: "q" + 8 });
                         var x = circleSpacingX * (1 + 2); // Começa da segunda coluna
                                    var y = circleSpacingY * (3.5 + 1);
                                    circles.push({ x: x, y: y, radius: circleRadius, label: "q" + 9 });
                         var x = circleSpacingX * (2 + 2); // Começa da segunda coluna
                                    var y = circleSpacingY * (1.5 + 1);
                                    circles.push({ x: x, y: y, radius: circleRadius, label: "q" + 10 });
                         var x = circleSpacingX * (2 + 2); // Começa da segunda coluna
                                    var y = circleSpacingY * (2.5 + 1);
                                    circles.push({ x: x, y: y, radius: circleRadius, label: "q" + 11 });
                         var x = circleSpacingX * (3 + 2); // Começa da segunda coluna
                                    var y = circleSpacingY * (1.5 + 1);
                                    circles.push({ x: x, y: y, radius: circleRadius, label: "q" + 12 });
                         var x = circleSpacingX * (3 + 2); // Começa da segunda coluna
                                    var y = circleSpacingY * (2.5 + 1);
                                    circles.push({ x: x, y: y, radius: circleRadius, label: "q" + 13 });
                         var x = circleSpacingX * (4 + 2); // Começa da segunda coluna
                                    var y = circleSpacingY * (2 + 1);
                                    circles.push({ x: x, y: y, radius: circleRadius, label: "q" + 14 });
                         var x = circleSpacingX * (5 + 2); // Começa da segunda coluna
                                    var y = circleSpacingY * (2 + 1);
                                    circles.push({ x: x, y: y, radius: circleRadius, label: "q" + 15 });
                         var x = circleSpacingX * (6 + 2); // Começa da segunda coluna
                                    var y = circleSpacingY * (2 + 1);
                                    circles.push({ x: x, y: y, radius: circleRadius, label: "q" + 16 });
                         var x = circleSpacingX * (7 + 2); // Começa da segunda coluna
                                    var y = circleSpacingY * (2 + 1);
                                    circles.push({ x: x, y: y, radius: circleRadius, label: "q" + 17 });
                         var x = circleSpacingX * (8 + 2); // Começa da segunda coluna
                                    var y = circleSpacingY * (2 + 1);
                                    circles.push({ x: x, y: y, radius: circleRadius, label: "q" + 18 });
                         var x = circleSpacingX * (9 + 2); // Começa da segunda coluna
                                    var y = circleSpacingY * (2 + 1);
                                    circles.push({ x: x, y: y, radius: circleRadius, label: "q" + 19 });
                         var x = circleSpacingX * (10 + 2); // Começa da segunda coluna
                                    var y = circleSpacingY * (2 + 1);
                                    circles.push({ x: x, y: y, radius: circleRadius, label: "q" + 20 });
                         var x = circleSpacingX * (11 + 2); // Começa da segunda coluna
                                    var y = circleSpacingY * (2 + 1);
                                    circles.push({ x: x, y: y, radius: circleRadius, label: "q" + 21 });
                         var x = circleSpacingX * (12 + 2); // Começa da segunda coluna
                                    var y = circleSpacingY * (2 + 1);
                                    circles.push({ x: x, y: y, radius: circleRadius, label: "q" + 22 });
                         var x = circleSpacingX * (13 + 2); // Começa da segunda coluna
                                    var y = circleSpacingY * (2 + 1);
                                    circles.push({ x: x, y: y, radius: circleRadius, label: "q" + 23 });
                         var x = circleSpacingX * (14 + 2); // Começa da segunda coluna
                                    var y = circleSpacingY * (2 + 1);
                                    circles.push({ x: x, y: y, radius: circleRadius, label: "q" + 24 });
                             redraw();
                            </script>
                        </body>
                    </html>
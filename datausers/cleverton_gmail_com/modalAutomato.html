<!DOCTYPE html>
                    <html lang="pt-BR">
                        <head>
                            <meta charset="UTF-8">
                            <meta name="viewport" content="width=device-width, initial-scale=1.0">
                            <title>Desenhar e Conectar Círculos</title>
                            <style>
                                #canvas { border: 1px solid #000; cursor: pointer; }
                            </style>
                        </head>
                        <body style="text-align:center">
                            <canvas id="canvas" width="3250" height="700"></canvas>
                            <script>
                             var canvas = document.getElementById("canvas");
                                var ctx = canvas.getContext("2d");
                                var circles = [];
                                var numRows = 5; // Número de linhas
                                var numColumns = 16; // Número de colunas
                                var circleRadius = 20; // Raio do círculo
                                var circleSpacingX = 120; // Espaçamento horizontal entre os círculos
                                var circleSpacingY = canvas.height / (numRows + 1); // Espaçamento vertical entre os círculos
                                 // Função para verificar se o mouse está sobre um círculo
                                function isMouseOverCircle(mouseX, mouseY, circle) {
                                    var dx = mouseX - circle.x;
                                    var dy = mouseY - circle.y;
                                    return dx * dx + dy * dy < circle.radius * circle.radius;
                                }
                                                
                                // Evento de clique do mouse
                                canvas.addEventListener("mousedown", function(event) {
                                    var mouseX = event.clientX - canvas.getBoundingClientRect().left;
                                    var mouseY = event.clientY - canvas.getBoundingClientRect().top;

                                    circles.forEach(function(circle) {
                                        if (isMouseOverCircle(mouseX, mouseY, circle)) {
                                            circle.isDragging = true;
                                        }
                                    });
                                });
                         
                                // Evento de movimento do mouse
                                canvas.addEventListener("mousemove", function(event) {
                                    circles.forEach(function(circle) {
                                        if (circle.isDragging) {
                                            circle.x = event.clientX - canvas.getBoundingClientRect().left;
                                            circle.y = event.clientY - canvas.getBoundingClientRect().top;
                                            redraw();
                                        }
                                    });
                                });

                                // Evento de soltar o botão do mouse
                                canvas.addEventListener("mouseup", function() {
                                    circles.forEach(function(circle) {
                                        circle.isDragging = false;
                                    });
                                });
                                 
                                // Função para desenhar os círculos
                                function drawCircle(circle) {
                                    ctx.beginPath();
                                    ctx.arc(circle.x, circle.y, circle.radius, 0, 2 * Math.PI);
                                    ctx.fillStyle = "rgba(0, 149, 221, 0.5)";
                                    ctx.fill();
                                    ctx.strokeStyle = "#0095DD";
                                    ctx.lineWidth = 2;
                                    ctx.stroke();
                                    ctx.closePath();

                                    ctx.fillStyle = "#000";
                                    ctx.font = "12px Arial";
                                    ctx.textAlign = "center";
                                    ctx.textBaseline = "middle";
                                    ctx.fillText(circle.label, circle.x, circle.y);
                                }
                                 
                                // Função para redesenhar toda a tela
                                function redraw() {
                                    ctx.clearRect(0, 0, canvas.width, canvas.height);
                                    circles.forEach(function(circle) {
                                        drawCircle(circle);
                                    });
                                }
                         
                                // Adiciona o estado q0 separadamente
                                circles.push({ x: circleSpacingX, y: canvas.height / 2, radius: circleRadius, label: "q0" });
                         
                                // Loop para adicionar os outros estados
                                for (var i = 1; i < 25; i++) {
                                    var row = (i - 1) % numRows;
                                    var col = Math.floor((i - 1) / numRows);
                                    var x = circleSpacingX * (col + 2); // Começa da segunda coluna
                                    var y = circleSpacingY * (row + 1);
                                    circles.push({ x: x, y: y, radius: circleRadius, label: "q" + i });
                                }


                                // Desenhar os círculos pela primeira vez
                                redraw();
                            </script>
                        </body>
                    </html>